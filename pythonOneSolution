def isValid(s: str) -> bool:
    stack = []                                          # 文字の記憶場所を作ります
    pairs = {')': '(', '}': '{', ']': '['}              # 括弧を対応させて覚えておきます
    
    for c in s:                                         # 以下の処理を与えられた文字列全てに繰り返します
        if c in pairs.values():
            stack.append(c)                             # sを前から一個ずつ見て、開き括弧なら順番に覚えておきます
        elif c in pairs:
            if not stack or stack.pop() != pairs[c]:    # 閉じ括弧なら、一番最近に覚えた開き括弧と同種かチェックし、あっていたらそのセットを記憶から消します
                return False                            # 括弧のルールに従った文字列が上記の処理を通った場合、括弧同士が打ち消され、記憶(スタック)が空になっているはずです。
    return not stack                                    # 今、文字列が空ならば、最初に与えられた文字列はルールに沿っていたものと判定します。逆に何か残っていたら、最初に与えられた文字列はルールに沿っていなかったものと判定します。
